webpackJsonp([21867697855891],{771:function(e,t){e.exports={data:{post:{id:"/media/duthaho/New Volume/learn/github/duthaho-blog/content/posts/2019-05-22--js-promise/index.md absPath of file >>> MarkdownRemark",html:'<p>Th·∫ø h·ªá 9x ch·∫Øc ai c≈©ng bi·∫øt b√†i <em>hit</em> ƒë√¨nh ƒë√°m c·ªßa <em>∆Øng Ho√†ng Ph√∫c</em> - <strong>H·ª©a th·∫≠t nhi·ªÅu, th·∫•t h·ª©a th√¨ c≈©ng th·∫≠t nhi·ªÅu</strong>? Kh√¥ng bi·∫øt c√≥ ph·∫£i v√¨ qu√° n·ªïi ti·∫øng kh√¥ng m√† ·ªü phi√™n b·∫£n <strong>ES6</strong>(ES2015), kh√°i ni·ªám <em>l·ªùi h·ª©a</em>(promise) ƒë√£ ƒë∆∞·ª£c ƒë∆∞a v√†o ECMAScript?</p>\n<p>·ªû b√†i vi·∫øt n√†y ch√∫ng ta c√πng t√¨m hi·ªÉu v·ªÅ <strong>Promise</strong>. T·∫°i sao ch√∫ng ta ph·∫£i d√πng promise? V√† n√≥ c√≥ l·ª£i √≠ch g√¨ v·ªÅ <em>l·∫≠p tr√¨nh b·∫•t ƒë·ªìng b·ªô</em> (asynchronous) trong JavaScript? B·∫°n s·∫Ω hi·ªÉu ƒë∆∞·ª£c ch√∫ng l√† g√¨, c√°ch s·ª≠ d·ª•ng v√† n√≥ ƒë∆∞·ª£c d√πng ƒë·ªÉ thay th·∫ø cho <em>callbacks</em> nh∆∞ th·∫ø n√†o?</p>\n<h2>Promise l√† g√¨?</h2>\n<blockquote>\n<p><strong>promise</strong>  l√† m·ªôt ƒë·ªëi t∆∞·ª£ng  <em>s·∫Ω tr·∫£ v·ªÅ m·ªôt gi√° tr·ªã trong t∆∞∆°ng lai</em>.</p>\n</blockquote>\n<p>Ch√∫ng ta c√πng t√¨m hi·ªÉu v·ªÅ m·ªôt v√≠ d·ª• th·ª±c t·∫ø ƒë·ªÉ hi·ªÉu r√µ h∆°n kh√°i ni·ªám v·ªÅ promise.</p>\n<p>D√π cho b·∫°n ƒëang <em>FA</em> th√¨ c≈©ng h√£y t∆∞·ªüng t∆∞·ª£ng r·∫±ng tu·∫ßn sau s·∫Ω l√† sinh nh·∫≠t b·∫°n g√°i c·ªßa b·∫°n. T·∫•t nhi√™n b·∫°n s·∫Ω d√†nh cho c√¥ ·∫•y m·ªôt m√≥n qu√† ƒë·∫∑t bi·ªát, v√† kh√¥ng g√¨ th√≠ch h·ª£p h∆°n l√† m·ªôt chi·∫øc b√°nh sinh nh·∫≠t. V√¢ng, b·∫°n ƒë∆∞a ra m·ªôt l·ªùi h·ª©a <em>mua b√°nh sinh nh·∫≠t</em>.</p>\n<p>Trong JavaScript, m·ªôt <em>promise</em> c≈©ng t∆∞∆°ng t·ª± v·∫≠y, n√≥ ƒë∆∞·ª£c t·∫°o ra nh∆∞ sau:</p>\n<div class="gatsby-highlight" data-language="js">\n      <pre class="language-js"><code class="language-js"><span class="token comment">// duthahoBuysCake l√† m·ªôt l·ªùi h·ª©a</span>\n<span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token function">duthahoBuysCake</span><span class="token punctuation">(</span><span class="token string">\'b√°nh sinh nh·∫≠t\'</span><span class="token punctuation">)</span></code></pre>\n      </div>\n<p>(ƒê·ª´ng lo l·∫Øng n·∫øu b·∫°n kh√¥ng bi·∫øt t·∫°o ra h√†m <code class="language-text">duthahoBuysCake</code> nh∆∞ th·∫ø n√†o, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu b√™n d∆∞·ªõi).</p>\n<p>L√∫c ƒë∆∞a ra l·ªùi h·ª©a, ch√∫ng ta ch∆∞a th·ª±c hi·ªán n√≥, l√∫c ƒë√≥ l·ªùi h·ª©a ƒëang ·ªü tr·∫°ng th√°i ch·ªù, hay <code class="language-text">pending</code> trong JavaScript. B·∫°n c√≥ th·ªÉ  <code class="language-text">console.log</code>  m·ªôt ƒë·ªëi t∆∞·ª£ng Promise l√∫c t·∫°o ra ƒë·ªÉ ki·ªÉm ch·ª©ng.</p>\n<p><img src="https://i.imgur.com/UqQ17oH.png" alt="The promise is pending."></p>\n<p>B·∫°n b·∫Øt ƒë·∫ßu l√™n k·∫ø ho·∫°ch, ƒë·∫ßu ti√™n l√† nh·ªãn ƒÉn s√°ng ƒë·ªÉ d√†nh ti·ªÅn, t·ªõi ng√†y ƒë√≥ th√¨ ra ti·ªám b√°nh ƒë·ªÉ ch·ªçn m√†u, ch·ªçn ki·ªÉu‚Ä¶<em>v√¢n v√¢n</em> <em>m√¢y m√¢y</em></p>\n<p>N·∫øu ƒë·∫øn ƒë√∫ng ng√†y, b·∫°n c√≥ ƒë·ªß ti·ªÅn, ra ti·ªám c√≥ ƒë√∫ng lo·∫°i b√°nh b·∫°n ch·ªçn, b·∫°n quy·∫øt ƒë·ªãnh mua n√≥, l√∫c n√†y l·ªùi h·ª©a ·ªü tr·∫°ng th√°i ƒë√£ th·ª±c hi·ªán, hay  <code class="language-text">resolved</code>  trong JavaScript. Khi promise ·ªü tr·∫°ng th√°i <code class="language-text">resolved</code>, m·ªôt h√†nh ƒë·ªông <code class="language-text">.then</code> ƒë∆∞·ª£c g·ªçi (qu·∫©y th√¥i):</p>\n<div class="gatsby-highlight" data-language="js">\n      <pre class="language-js"><code class="language-js"><span class="token function">duthahoBuysCake</span><span class="token punctuation">(</span><span class="token string">\'b√°nh sinh nh·∫≠t\'</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>qu·∫©y nh∆∞ d·ª± ƒë·ªãnh<span class="token punctuation">)</span> <span class="token comment">// 123zooo! üéâüéâüéâ</span></code></pre>\n      </div>\n<p>Nh∆∞ng cu·ªôc s·ªëng kh√¥ng bao gi·ªù c≈©ng m√†u h·ªìng nh∆∞ th·∫ø, b·∫°n mu·ªën ch∆°i l·ªõn cho sinh nh·∫≠t ng∆∞·ªùi y√™u v√† l√†m v√†i con l√¥, th·∫ø l√† bay s·∫°ch cmn ti·ªÅn. Cu·ªëi c√πng kh√¥ng mua ƒë∆∞·ª£c b√°nh. L√∫c n√†y b·∫°n ƒë√£ th·∫•t h·ª©a, l·ªùi h·ª©a kh√¥ng th·ª±c hi·ªán ƒë∆∞·ª£c. Trong JavaScript, ch√∫ng ta g·ªçi Promise ƒëang ·ªü tr·∫°ng th√°i  <code class="language-text">rejected</code>.</p>\n<p>Khi ƒë√≥, b·∫°n th·ª±c hi·ªán m·ªôt k·∫ø ho·∫°ch d·ª± ph√≤ng, m·ªôt h√†nh ƒë·ªông  <code class="language-text">.catch</code>  ƒë∆∞·ª£c g·ªçi.</p>\n<div class="gatsby-highlight" data-language="js">\n      <pre class="language-js"><code class="language-js"><span class="token function">duthahoBuysCake</span><span class="token punctuation">(</span><span class="token string">\'b√°nh sinh nh·∫≠t\'</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>qu·∫©y nh∆∞ d·ª± ƒë·ªãnh<span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>k·∫ø ho·∫°ch d·ª± ph√≤ng<span class="token punctuation">)</span></code></pre>\n      </div>\n<p>Trong JavaScript th√¨ ch√∫ng ta th∆∞·ªùng d√πng Promise ƒë·ªÉ <code class="language-text">get</code> ho·∫∑c <code class="language-text">update</code> d·ªØ li·ªáu. Khi promise ·ªü tr·∫°ng th√°i th√†nh c√¥ng <code class="language-text">resolved</code>, ch√∫ng ta x·ª≠ l√Ω d·ª± li·ªáu v·ªõi data tr·∫£ v·ªÅ. Ng∆∞·ª£c l·∫°i khi promise th·∫•t b·∫°i <code class="language-text">rejected</code>, ch√∫ng ta x·ª≠ l√Ω l·ªói:</p>\n<div class="gatsby-highlight" data-language="js">\n      <pre class="language-js"><code class="language-js"><span class="token function">getSomethingWithPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token comment">/* x·ª≠ l√Ω data */</span><span class="token punctuation">}</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token comment">/* x·ª≠ l√Ω l·ªói */</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>\n      </div>\n<p>ƒê·∫øn ƒë√¢y th√¨ b·∫°n ƒë√£ hi·ªÉu promise l√† g√¨, c√°c tr·∫°ng th√°i c·ªßa n√≥ v√† c√°ch n√≥ ho·∫°t ƒë·ªông. H√£y c√πng t√¨m hi·ªÉu c√°ch t·∫°o ra n√≥ n√†o.</p>\n<h2>T·∫°o m·ªôt promise nh∆∞ th·∫ø n√†o?</h2>\n<p>T·∫°o m·ªôt promise kh√° ƒë∆°n gi·∫£n, ch·ªâ c·∫ßn t·∫°o m·ªõi ƒë·ªëi t∆∞·ª£ng Promise <code class="language-text">new Promise</code>. V√† h√†m constructor c·ªßa Promise nh·∫≠n 2 tham s·ªë l√† 2 h√†m ‚Äî  <code class="language-text">resolve</code>  v√†  <code class="language-text">reject</code>.</p>\n<div class="gatsby-highlight" data-language="js">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token comment">/* Do something here */</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>\n      </div>\n<p>N·∫øu h√†m  <code class="language-text">resolve</code>  ƒë∆∞·ª£c g·ªçi, tr·∫°ng th√°i c·ªßa promise s·∫Ω l√† th√†nh c√¥ng v√† h√†nh ƒë·ªông <code class="language-text">.then</code> ƒë∆∞·ª£c g·ªçi. Tham s·ªë b·∫°n truy·ªÅn v√†o h√†m  <code class="language-text">resolve</code>  s·∫Ω ƒë∆∞·ª£c chuy·ªÉn ƒë·∫øn  <code class="language-text">then</code>:</p>\n<div class="gatsby-highlight" data-language="js">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token comment">// Note: resolve ch·ªâ cho ph√©p truy·ªÅn ƒë√∫ng 1 param</span>\n  <span class="token keyword">return</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">27</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token comment">// Tham s·ªë  t·ª´ resolve s·∫Ω ƒë∆∞·ª£c chuy·ªÉn ƒë·∫øn then.</span>\npromise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">number</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 27</span></code></pre>\n      </div>\n<p>Ng∆∞·ª£c l·∫°i n·∫øu h√†m  <code class="language-text">reject</code>  ƒë∆∞·ª£c g·ªçi, tr·∫°ng th√°i c·ªßa promise s·∫Ω l√† th·∫•t b·∫°i v√† h√†nh ƒë·ªông  <code class="language-text">catch</code> ƒë∆∞·ª£c g·ªçi. T∆∞∆°ng t·ª± nh∆∞ <code class="language-text">resolved</code> tham s·ªë ƒë∆∞·ª£c truy·ªÅn v√†o <code class="language-text">reject</code> s·∫Ω ƒë∆∞·ª£c chuy·ªÉn ƒë·∫øn <code class="language-text">catch</code>.</p>\n<div class="gatsby-highlight" data-language="js">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token comment">// Note: reject ch·ªâ cho ph√©p truy·ªÅn ƒë√∫ng 1 param</span>\n  <span class="token keyword">return</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">\'üí©üí©üí©\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\npromise<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// üí©üí©üí©</span></code></pre>\n      </div>\n<p>B·∫Øt ƒë·∫ßu code th√¥i n√†o, ƒë·∫ßu ti√™n t·∫°o m·ªôt promise cho <code class="language-text">duthahoBuysCake</code> ·ªü tr√™n:</p>\n<div class="gatsby-highlight" data-language="js">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">duthahoBuysCake</span> <span class="token operator">=</span> <span class="token parameter">cakeType</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token comment">// Do something here</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p>Ti·∫øp theo, l√™n k·∫ø ho·∫°ch cho 1 tu·∫ßn ƒë·ªÉ th·ª±c hi·ªán l·ªùi h·ª©a. Ch√∫ng ta s·∫Ω d√πng h√†m <code class="language-text">setTimeout</code> ƒë·ªÉ gi·∫£ s·ª≠ cho vi·ªác ch·ªù ƒë·ª£i v√† l√™n k·∫ø ho·∫°ch:</p>\n<div class="gatsby-highlight" data-language="js">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">duthahoBuysCake</span> <span class="token operator">=</span> <span class="token parameter">cakeType</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span> <span class="token punctuation">{</span>\n      <span class="token comment">// mua hay kh√¥ng mua n√≥i 1 l·ªùi</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p><strong>Note</strong>: ·ªü ƒë√¢y <code class="language-text">setTimeout</code> cho 1000ms (1 gi√¢y) th√¥i ch·ªõ ch·ªù 1 tu·∫ßn th√¨ ng∆∞·ªùi y√™u n√≥ ki·∫øm th√®n kh√°c cmnr :cry:</p>\n<p>N·∫øu sau 1 tu·∫ßn b·∫°n c√≥ ƒë·ªß ti·ªÅn ƒë·ªÉ mua b√°nh, promise s·∫Ω g·ªçi <code class="language-text">resolved</code> v√† tr·∫£ d·ªØ li·ªáu <code class="language-text">b√°nh sinh nh·∫≠t</code> v·ªÅ cho  <code class="language-text">then</code>.</p>\n<p>Ng∆∞·ª£c l·∫°i, b·∫°n kh√¥ng ƒë·ªß ti·ªÅn ƒë·ªÉ mua b√°nh, promise s·∫Ω g·ªçi <code class="language-text">reject</code> v√† tr·∫£ d·ªØ li·ªáu <code class="language-text">kh√¥ng ƒë·ªß ti·ªÅn</code> v·ªÅ cho  <code class="language-text">catch</code>.</p>\n<div class="gatsby-highlight" data-language="js">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">let</span> money <span class="token operator">=</span> <span class="token number">1000</span>\n<span class="token keyword">const</span> <span class="token function-variable function">duthahoBuysCake</span> <span class="token operator">=</span> <span class="token parameter">cakeType</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span> <span class="token punctuation">{</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>money <span class="token operator">></span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">resolve</span><span class="token punctuation">(</span>cakeType<span class="token punctuation">)</span>\n      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n        <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">\'kh√¥ng ƒë·ªß ti·ªÅn üò¢\'</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p>N·∫øu b·∫°n th·ª≠  <code class="language-text">console.log</code>  v·ªõi promise d∆∞·ªõi ƒë√¢y, k·∫øt qu·∫£ c·ªßa n√≥ l√† tr·∫°ng th√°i <code class="language-text">pending</code>.</p>\n<div class="gatsby-highlight" data-language="js">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token function">duthahoBuysCake</span><span class="token punctuation">(</span><span class="token string">\'b√°nh sinh nh·∫≠t\'</span><span class="token punctuation">)</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>promise<span class="token punctuation">)</span></code></pre>\n      </div>\n<p><img src="https://i.imgur.com/gVh4UlD.png" alt="The promise is pending."></p>\n<p>Gi·ªù b·∫°n h√£y th·ª≠ s·ª≠ d·ª•ng <code class="language-text">then</code> v√† <code class="language-text">cactch</code> v√†o promise tr√™n, b·∫°n s·∫Ω th·∫•y k·∫øt qu·∫£ l√† <code class="language-text">b√°nh sinh nh·∫≠t</code> ho·∫∑c <code class="language-text">kh√¥ng ƒë·ªß ti·ªÅn</code> ph·ª• thu·ªôc v√†o s·ªë ti·ªÅn b·∫°n c√≥.</p>\n<p>Tr∆∞·ªùng h·ª£p <code class="language-text">then</code>:</p>\n<div class="gatsby-highlight" data-language="js">\n      <pre class="language-js"><code class="language-js">money <span class="token operator">=</span> <span class="token number">1001</span>\n<span class="token keyword">const</span> promiseSuccess <span class="token operator">=</span> <span class="token function">duthahoBuysCake</span><span class="token punctuation">(</span><span class="token string">\'b√°nh sinh nh·∫≠t\'</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">cake</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cake<span class="token punctuation">)</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">nocake</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nocake<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>\n      </div>\n<p><img src="https://i.imgur.com/2V9ZWlF.png" alt="Then case."></p>\n<p>Tr∆∞·ªùng h·ª£p <code class="language-text">catch</code>:</p>\n<p><img src="https://i.imgur.com/6zy25IL.png" alt="Catch case."></p>\n<p>B√¢y gi·ªù th√¨ b·∫°n c√≥ th·∫•y kh√¥ng kh√≥ ƒë·ªÉ t·∫°o m·ªôt promise ph·∫£i kh√¥ng? üòâ.</p>\n<p>Nhi·ªám v·ª• ti·∫øp theo c·ªßa ch√∫ng ta l√† tr·∫£ l·ªùi c√¢u h·ªèi ‚Äî T·∫°i sao promise ƒë∆∞·ª£c d√πng ƒë·ªÉ thay th·∫ø <strong>callback</strong> trong l·∫≠p tr√¨nh b·∫•t ƒë·ªìng b·ªô (<em>asynchronous JavaScript</em>)?</p>\n<h2>Promises vs. Callbacks</h2>\n<p>Coder ƒëa s·ªë l√† nh·ªØng th√®n l√†m bi·∫øng, t√¥i c≈©ng th·∫ø v√† ch·∫Øc b·∫°n c≈©ng v·∫≠y. C√°i g√¨ nhanh, g·ªçn, nh·∫π th√¨ ch·ªçn v·∫≠y th√¥i :). Sau ƒë√¢y l√† 3 l√Ω do m√† promise ƒë∆∞·ª£c d√πng nhi·ªÅu h∆°n l√† callback:</p>\n<ol>\n<li>√çt code l·ªìng (nested) h∆°n</li>\n<li>ƒê·ªçc code d·ªÖ hi·ªÉu h∆°n</li>\n<li>X·ª≠ l√Ω l·ªói d·ªÖ d√†ng h∆°n v·ªõi <code class="language-text">catch</code></li>\n</ol>\n<p>N√≥i nhi·ªÅu l√†m g√¨, h√£y ƒëi v√†o v√≠ d·ª• ƒë·ªÉ so s√°nh.</p>\n<p>B√†i to√°n ·ªü ƒë√¢y l√† b·∫°n ƒëang l√† ch·ªß 1 c·ª≠a h√†ng b√°n ƒë·ªì online, ngh·ªÅ ƒëang hot :cry:. Khi ai ƒë√≥ ƒë·∫∑t mua h√†ng, b·∫°n s·∫Ω l∆∞u l·∫°i th√¥ng tin c·ªßa h·ªç v√†o database. Cu·ªëi c√πng g·ª≠i email cho h·ªç v·ªÅ ƒë∆°n h√†ng thanh to√°n:</p>\n<ol>\n<li>Kh√°ch h√†ng ƒë·∫∑t mua h√†ng</li>\n<li>L∆∞u l·∫°i th√¥ng tin kh√°ch h√†ng</li>\n<li>G·ª≠i mail</li>\n</ol>\n<p>Ch√∫ng ta l·∫ßn l∆∞·ª£t ƒëi qua t·ª´ng b∆∞·ªõc. ƒê·∫ßu ti√™n, khi kh√°ch ƒë·∫∑t mua h√†ng, frontend s·∫Ω g·ª≠i 1 request mua h√†ng ƒë·∫øn backend k√®m theo th√¥ng tin c·ªßa kh√°ch h√†ng, th√¥ng th∆∞·ªùng ·ªü ƒë√¢y l√† post request.</p>\n<p>V√≠ d·ª• d∆∞·ªõi ƒë√¢y ƒë∆∞·ª£c vi·∫øt b·∫±ng Express - NodeJS framework. N·∫øu b·∫°n ch∆∞a bi·∫øt c≈©ng kh√¥ng sao, ch·ªâ c·∫ßn quan t√¢m n√≥ ƒë∆∞·ª£c vi·∫øt b·∫±ng JavaScript :smiley::</p>\n<div class="gatsby-highlight" data-language="js">\n      <pre class="language-js"><code class="language-js"><span class="token comment">// API d√πng ƒë·ªÉ frontend g·ª≠i request mua h√†ng ƒë·∫øn backend.</span>\napp<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">\'/buy-thing\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> customer <span class="token operator">=</span> req<span class="token punctuation">.</span>body <span class="token comment">// l·∫•y th√¥ng tin kh√°ch h√†ng</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>\n      </div>\n<p>·ªû ƒë√¢y b·∫°n mu·ªën l·∫•y d·ªØ li·ªáu kh√°ch h√†ng, n·∫øu th√†nh c√¥ng, b·∫°n l∆∞u l·∫°i th√¥ng tin v√†o database, v√† s·∫Ω vƒÉng ra exception n·∫øu c√≥ l·ªói.</p>\n<p>V√≠ d·ª• v·ªÅ s·ª≠ d·ª•ng callback:</p>\n<div class="gatsby-highlight" data-language="js">\n      <pre class="language-js"><code class="language-js"><span class="token comment">// Callback based code</span>\napp<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">\'/buy-thing\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> customer <span class="token operator">=</span> req<span class="token punctuation">.</span>body\n\n  <span class="token comment">// l·∫•y d·ªØ li·ªáu kh√°ch h√†ng</span>\n  <span class="token function">getCustumerInfo</span><span class="token punctuation">(</span>customer<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> info</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err\n\n    <span class="token comment">// l∆∞u th√¥ng tin xu·ªëng database</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>\n      </div>\n<p>V√≠ d·ª• v·ªÅ s·ª≠ d·ª•ng promise:</p>\n<div class="gatsby-highlight" data-language="js">\n      <pre class="language-js"><code class="language-js"><span class="token comment">// Promised based code</span>\napp<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">\'/buy-thing\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> customer <span class="token operator">=</span> req<span class="token punctuation">.</span>body\n\n  <span class="token function">getCustomerInfo</span><span class="token punctuation">(</span>customer<span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token keyword">throw</span> err<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>\n      </div>\n<p>B∆∞·ªõc th·ª© 2 l√† l∆∞u d·ªØ li·ªáu kh√°ch h√†ng xu·ªëng database, sau khi l∆∞u th√†nh c√¥ng, b·∫°n s·∫Ω g·ª≠i email cho kh√°ch h√†ng, ng∆∞·ª£c l·∫°i, vƒÉng ra exception n·∫øu c√≥ l·ªói.</p>\n<p>V√≠ d·ª• v·ªÅ s·ª≠ d·ª•ng callback:</p>\n<div class="gatsby-highlight" data-language="js">\n      <pre class="language-js"><code class="language-js"><span class="token comment">// Callback based code</span>\napp<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">\'/buy-thing\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> customer <span class="token operator">=</span> req<span class="token punctuation">.</span>body\n\n  <span class="token function">getCustomerInfo</span><span class="token punctuation">(</span>customer<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> info</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err\n\n    <span class="token comment">// l∆∞u th√¥ng tin xu·ªëng database</span>\n    <span class="token function">addToDatabase</span><span class="token punctuation">(</span>info<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> document</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err\n\n      <span class="token comment">// g·ª≠i email</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>\n      </div>\n<p>V√≠ d·ª• v·ªÅ s·ª≠ d·ª•ng promise:</p>\n<div class="gatsby-highlight" data-language="js">\n      <pre class="language-js"><code class="language-js"><span class="token comment">// Promised based code</span>\napp<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">\'/buy-thing\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> customer <span class="token operator">=</span> req<span class="token punctuation">.</span>body\n\n  <span class="token function">getCustomerInfo</span><span class="token punctuation">(</span>customer<span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">info</span> <span class="token operator">=></span> <span class="token function">addToDatabase</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token comment">/* g·ª≠i email */</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token keyword">throw</span> err<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>\n      </div>\n<p>B∆∞·ªõc cu·ªëi c√πng, khi b·∫°n g·ª≠i email cho kh√°ch h√†ng th√†nh c√¥ng, b·∫°n s·∫Ω hi·ªÉn th·ªã th√¥ng b√°o cho ng∆∞·ªùi d√πng, ng∆∞·ª£c l·∫°i, vƒÉng ra exception n·∫øu g·ª≠i email th·∫•t b·∫°i:</p>\n<p>V√≠ d·ª• v·ªÅ s·ª≠ d·ª•ng callback:</p>\n<div class="gatsby-highlight" data-language="js">\n      <pre class="language-js"><code class="language-js"><span class="token comment">// Callback based code</span>\napp<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">\'/buy-thing\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> customer <span class="token operator">=</span> req<span class="token punctuation">.</span>body\n\n  <span class="token function">getCustomerInfo</span><span class="token punctuation">(</span>customer<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> info</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err\n\n    <span class="token comment">// l∆∞u th√¥ng tin xu·ªëng database</span>\n    <span class="token function">addToDatabase</span><span class="token punctuation">(</span>info<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> document</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err\n\n      <span class="token comment">// g·ª≠i email</span>\n      <span class="token function">sendEmail</span><span class="token punctuation">(</span>customer<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err\n\n        <span class="token comment">// th√¥ng b√°o th√†nh c√¥ng.</span>\n        res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">\'success!\'</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>\n      </div>\n<p>V√≠ d·ª• v·ªÅ s·ª≠ d·ª•ng promise:</p>\n<div class="gatsby-highlight" data-language="js">\n      <pre class="language-js"><code class="language-js">app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">\'/buy-thing\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> customer <span class="token operator">=</span> req<span class="token punctuation">.</span>body\n\n  <span class="token function">getCustomerInfo</span><span class="token punctuation">(</span>customer<span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">info</span> <span class="token operator">=></span> <span class="token function">addToDatabase</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">_</span> <span class="token operator">=></span> <span class="token function">sendEmail</span><span class="token punctuation">(</span>customer<span class="token punctuation">)</span> <span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=></span> res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">\'success!\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token keyword">throw</span> err<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>\n      </div>\n<p>Ch·∫Øc h·∫≥n qua v√≠ d·ª• tr√™n th√¨ ch√∫ng ta ƒë√£ h√¨nh dung ƒë∆∞·ª£c nh·ªØng ∆∞u ƒëi·ªÉm c·ªßa vi·ªác d√πng promise so v·ªõi callback? Code ng·∫Øn g·ªçn, flow d·ªÖ hi·ªÉu, x·ª≠ l√Ω l·ªói d·ªÖ d√†ng h∆°n, v√† quan tr·ªçng l√† tr√°nh ph·∫£i <code class="language-text">callback hell</code> khi d√πng callback üòÇ.</p>\n<h2>X·ª≠ l√Ω nhi·ªÅu l·ªùi h·ª©a c√πng l√∫c?</h2>\n<p>M·ªôt ƒëi·ªÉm c·ªông n·ªØa c·ªßa promise l√† ch√∫ng ta c√≥ th·ªÉ th·ª±c hi·ªán nhi·ªÅu promise c√πng 1 l√∫c m√† c√°c ho·∫°t ƒë·ªông c·ªßa ch√∫ng ko li√™n quan g√¨ v·ªõi nhau, nh∆∞ng k·∫øt qu·∫£ c·ªßa nh·ªØng l·ªùi h·ª©a ƒë√≥ c·∫ßn thi·∫øt cho 1 ho·∫°t ƒë·ªông sau c√πng.</p>\n<p>ƒê·ªÉ l√†m ƒë∆∞·ª£c ƒëi·ªÅu ƒë√≥, ch√∫ng ta s·ª≠ d·ª•ng h√†m <code class="language-text">Promise.all</code>, tham s·ªë truy·ªÅn v√†o l√† 1 m·∫£ng c√°c l·ªùi h·ª©a (promise) c·∫ßn th·ª±c hi·ªán. Khi ƒë√≥, tham s·ªë c·ªßa <code class="language-text">then</code> ch√≠nh l√† 1 m·∫£ng ch·ª©a c√°c k·∫øt qu·∫£ t·ª´ c√°c promise.</p>\n<p>H√£y t∆∞·ªüng t∆∞·ª£ng b·∫°n mu·ªën ƒÉn b·ªØa t·ªëi sau khi n·∫•u ƒë·ªß 3 m√≥n: c∆°m, canh c√°. C√°c ho·∫°t ƒë·ªông n√†y th·ª±c hi·ªán c√πng l√∫c v√† kh√¥ng ph·ª• thu·ªôc l·∫´n nhau, th·∫ø nh∆∞ng b·∫°n ph·∫£i ch·ªù cho t·∫•t c·∫£ n·∫•u xong th√¨ b·∫°n m·ªõi ƒÉn t·ªëi ƒë∆∞·ª£c:</p>\n<div class="gatsby-highlight" data-language="js">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> nauComPromise <span class="token operator">=</span> <span class="token function">nauCom</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token keyword">const</span> nauCanhPromise <span class="token operator">=</span> <span class="token function">nauCanh</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token keyword">const</span> khoCaPromise <span class="token operator">=</span> <span class="token function">khoCa</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n\n<span class="token keyword">const</span> anToi <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>\n  nauComPromise<span class="token punctuation">,</span>\n  nauCanhPromise<span class="token punctuation">,</span>\n  khoCaPromise\n<span class="token punctuation">]</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">[</span>com<span class="token punctuation">,</span> canh<span class="token punctuation">,</span> ca<span class="token punctuation">]</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>com<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> tuy·ªát v·ªùi! üçî</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>canh<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> ngon qu√°! üçü</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ca<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> b·ªã ch√°y ü§¢ </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>\n      </div>\n<p>(Note: ·ªü ƒë√¢y c√≤n 1 h√†m <code class="language-text">Promise.race</code>, nh∆∞ng hi·∫øm khi ƒë∆∞·ª£c s·ª≠ d·ª•ng, b·∫°n c√≥ th·ªÉ ƒë·ªçc th√™m t·∫°i <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Promise/race">ƒë√¢y</a>.</p>\n<p>Cu·ªëi c√πng, v√¨ <strong>promise</strong> l√† t√≠nh nƒÉng m·ªõi c·ªßa ES6, n√™n kh√¥ng ph·∫£i t·∫•t c·∫£ browser ƒë·ªÅu h·ªó tr·ª£?</p>\n<h2>Browser h·ªó tr·ª£ Promise</h2>\n<p>Kh√¥ng sao, tin t·ªët l√† <a href="https://kangax.github.io/compat-table/es6/">promise ƒë√£ ƒë∆∞·ª£c h·ªó tr·ª£ h·∫ßu h·∫øt tr√™n t·∫•t c·∫£ tr√¨nh duy·ªát</a>!</p>\n<p>N·∫øu b·∫°n c√≤n x√†i ƒë·ªì c·ªß chu·ªëi IE11 ho·∫∑c nh·ªè h∆°n, <a href="https://www.npmjs.com/package/promise-polyfill">Promise Polyfill</a> l√† m·ªôt s·ª± l·ª±a ch·ªçn thay th·∫ø!</p>\n<h2>T√∫m l·∫°i</h2>\n<p>B·∫°n ƒë√£ ƒë∆∞·ª£c h·ªçc t·∫•t c·∫£ nh·ªØng g√¨ v·ªÅ promise trong b√†i vi·∫øt n√†y, n√≥ gi√∫p ch√∫ng ta vi·∫øt code 1 c√°ch ng·∫Øn g·ªçn v√† d·ªÖ hi·ªÉu h∆°n trong l·∫≠p tr√¨nh b·∫•t ƒë·ªìng b·ªô v√† kh·ªèi ƒëau ƒë·∫ßu v·ªõi <code class="language-text">callback hell</code>.</p>\n<p>M·∫∑c d√π trong b√†i vi·∫øt ch√∫ng ta n√™n s·ª≠ d·ª•ng <strong>promise</strong> ƒë·ªÉ thay th·∫ø cho <strong>callback</strong> nh∆∞ng trong 1 s·ªë tr∆∞·ªùng h·ª£p c·ª• th·ªÉ, callback n·∫Øm gi·ªØ 1 vai tr√≤ quan tr·ªçng. V√¨ th·∫ø m√¨nh s·∫Ω vi·∫øt 1 b√†i v·ªÅ callback trong th·ªùi gian t·ªõi. Mong m·ªçi ng∆∞·ªùi ƒë√≥n ƒë·ªçc üòâ.</p>\n<p>N·∫øu b·∫°n c√≥ c√¢u h·ªèi n√†o ho·∫∑c √Ω ki·∫øn ƒë√≥ng gh√≥p, comment b√™n d∆∞·ªõi! ƒê·ª´ng qu√™n sharing d√πm m√¨nh nh√© :+1:</p>',
htmlAst:{type:"root",children:[{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Th·∫ø h·ªá 9x ch·∫Øc ai c≈©ng bi·∫øt b√†i "},{type:"element",tagName:"em",properties:{},children:[{type:"text",value:"hit"}]},{type:"text",value:" ƒë√¨nh ƒë√°m c·ªßa "},{type:"element",tagName:"em",properties:{},children:[{type:"text",value:"∆Øng Ho√†ng Ph√∫c"}]},{type:"text",value:" - "},{type:"element",tagName:"strong",properties:{},children:[{type:"text",value:"H·ª©a th·∫≠t nhi·ªÅu, th·∫•t h·ª©a th√¨ c≈©ng th·∫≠t nhi·ªÅu"}]},{type:"text",value:"? Kh√¥ng bi·∫øt c√≥ ph·∫£i v√¨ qu√° n·ªïi ti·∫øng kh√¥ng m√† ·ªü phi√™n b·∫£n "},{type:"element",tagName:"strong",properties:{},children:[{type:"text",value:"ES6"}]},{type:"text",value:"(ES2015), kh√°i ni·ªám "},{type:"element",tagName:"em",properties:{},children:[{type:"text",value:"l·ªùi h·ª©a"}]},{type:"text",value:"(promise) ƒë√£ ƒë∆∞·ª£c ƒë∆∞a v√†o ECMAScript?"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"·ªû b√†i vi·∫øt n√†y ch√∫ng ta c√πng t√¨m hi·ªÉu v·ªÅ "},{type:"element",tagName:"strong",properties:{},children:[{type:"text",value:"Promise"}]},{type:"text",value:". T·∫°i sao ch√∫ng ta ph·∫£i d√πng promise? V√† n√≥ c√≥ l·ª£i √≠ch g√¨ v·ªÅ "},{type:"element",tagName:"em",properties:{},children:[{type:"text",value:"l·∫≠p tr√¨nh b·∫•t ƒë·ªìng b·ªô"}]},{type:"text",value:" (asynchronous) trong JavaScript? B·∫°n s·∫Ω hi·ªÉu ƒë∆∞·ª£c ch√∫ng l√† g√¨, c√°ch s·ª≠ d·ª•ng v√† n√≥ ƒë∆∞·ª£c d√πng ƒë·ªÉ thay th·∫ø cho "},{type:"element",tagName:"em",properties:{},children:[{type:"text",value:"callbacks"}]},{type:"text",value:" nh∆∞ th·∫ø n√†o?"}]},{type:"text",value:"\n"},{type:"element",tagName:"h2",properties:{},children:[{type:"text",value:"Promise l√† g√¨?"}]},{type:"text",value:"\n"},{type:"element",tagName:"blockquote",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"element",tagName:"strong",properties:{},children:[{type:"text",value:"promise"}]},{type:"text",value:"  l√† m·ªôt ƒë·ªëi t∆∞·ª£ng  "},{type:"element",tagName:"em",properties:{},children:[{type:"text",value:"s·∫Ω tr·∫£ v·ªÅ m·ªôt gi√° tr·ªã trong t∆∞∆°ng lai"}]},{type:"text",value:"."}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Ch√∫ng ta c√πng t√¨m hi·ªÉu v·ªÅ m·ªôt v√≠ d·ª• th·ª±c t·∫ø ƒë·ªÉ hi·ªÉu r√µ h∆°n kh√°i ni·ªám v·ªÅ promise."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"D√π cho b·∫°n ƒëang "},{type:"element",tagName:"em",properties:{},children:[{type:"text",value:"FA"}]},{type:"text",value:" th√¨ c≈©ng h√£y t∆∞·ªüng t∆∞·ª£ng r·∫±ng tu·∫ßn sau s·∫Ω l√† sinh nh·∫≠t b·∫°n g√°i c·ªßa b·∫°n. T·∫•t nhi√™n b·∫°n s·∫Ω d√†nh cho c√¥ ·∫•y m·ªôt m√≥n qu√† ƒë·∫∑t bi·ªát, v√† kh√¥ng g√¨ th√≠ch h·ª£p h∆°n l√† m·ªôt chi·∫øc b√°nh sinh nh·∫≠t. V√¢ng, b·∫°n ƒë∆∞a ra m·ªôt l·ªùi h·ª©a "},{type:"element",tagName:"em",properties:{},children:[{type:"text",value:"mua b√°nh sinh nh·∫≠t"}]},{type:"text",value:"."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Trong JavaScript, m·ªôt "},{type:"element",tagName:"em",properties:{},children:[{type:"text",value:"promise"}]},{type:"text",value:" c≈©ng t∆∞∆°ng t·ª± v·∫≠y, n√≥ ƒë∆∞·ª£c t·∫°o ra nh∆∞ sau:"}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"js"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-js"]},children:[{type:"element",tagName:"code",properties:{className:["language-js"]},children:[{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// duthahoBuysCake l√† m·ªôt l·ªùi h·ª©a"}]},{type:"text",value:"\n"},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"const"}]},{type:"text",value:" promise "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"duthahoBuysCake"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'b√°nh sinh nh·∫≠t'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"(ƒê·ª´ng lo l·∫Øng n·∫øu b·∫°n kh√¥ng bi·∫øt t·∫°o ra h√†m "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"duthahoBuysCake"}]},{type:"text",value:" nh∆∞ th·∫ø n√†o, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu b√™n d∆∞·ªõi)."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"L√∫c ƒë∆∞a ra l·ªùi h·ª©a, ch√∫ng ta ch∆∞a th·ª±c hi·ªán n√≥, l√∫c ƒë√≥ l·ªùi h·ª©a ƒëang ·ªü tr·∫°ng th√°i ch·ªù, hay "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"pending"}]},{type:"text",value:" trong JavaScript. B·∫°n c√≥ th·ªÉ  "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"console.log"}]},{type:"text",value:"  m·ªôt ƒë·ªëi t∆∞·ª£ng Promise l√∫c t·∫°o ra ƒë·ªÉ ki·ªÉm ch·ª©ng."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"element",tagName:"img",properties:{src:"https://i.imgur.com/UqQ17oH.png",alt:"The promise is pending."},children:[]}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"B·∫°n b·∫Øt ƒë·∫ßu l√™n k·∫ø ho·∫°ch, ƒë·∫ßu ti√™n l√† nh·ªãn ƒÉn s√°ng ƒë·ªÉ d√†nh ti·ªÅn, t·ªõi ng√†y ƒë√≥ th√¨ ra ti·ªám b√°nh ƒë·ªÉ ch·ªçn m√†u, ch·ªçn ki·ªÉu‚Ä¶"},{type:"element",tagName:"em",properties:{},children:[{type:"text",value:"v√¢n v√¢n"}]},{type:"text",value:" "},{type:"element",tagName:"em",properties:{},children:[{type:"text",value:"m√¢y m√¢y"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"N·∫øu ƒë·∫øn ƒë√∫ng ng√†y, b·∫°n c√≥ ƒë·ªß ti·ªÅn, ra ti·ªám c√≥ ƒë√∫ng lo·∫°i b√°nh b·∫°n ch·ªçn, b·∫°n quy·∫øt ƒë·ªãnh mua n√≥, l√∫c n√†y l·ªùi h·ª©a ·ªü tr·∫°ng th√°i ƒë√£ th·ª±c hi·ªán, hay  "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"resolved"}]},{type:"text",value:"  trong JavaScript. Khi promise ·ªü tr·∫°ng th√°i "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"resolved"}]},{type:"text",value:", m·ªôt h√†nh ƒë·ªông "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:".then"}]},{type:"text",value:" ƒë∆∞·ª£c g·ªçi (qu·∫©y th√¥i):"}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"js"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-js"]},children:[{type:"element",tagName:"code",properties:{className:["language-js"]},children:[{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"duthahoBuysCake"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'b√°nh sinh nh·∫≠t'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"then"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"qu·∫©y nh∆∞ d·ª± ƒë·ªãnh"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// 123zooo! üéâüéâüéâ"}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Nh∆∞ng cu·ªôc s·ªëng kh√¥ng bao gi·ªù c≈©ng m√†u h·ªìng nh∆∞ th·∫ø, b·∫°n mu·ªën ch∆°i l·ªõn cho sinh nh·∫≠t ng∆∞·ªùi y√™u v√† l√†m v√†i con l√¥, th·∫ø l√† bay s·∫°ch cmn ti·ªÅn. Cu·ªëi c√πng kh√¥ng mua ƒë∆∞·ª£c b√°nh. L√∫c n√†y b·∫°n ƒë√£ th·∫•t h·ª©a, l·ªùi h·ª©a kh√¥ng th·ª±c hi·ªán ƒë∆∞·ª£c. Trong JavaScript, ch√∫ng ta g·ªçi Promise ƒëang ·ªü tr·∫°ng th√°i  "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"rejected"}]},{type:"text",value:"."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Khi ƒë√≥, b·∫°n th·ª±c hi·ªán m·ªôt k·∫ø ho·∫°ch d·ª± ph√≤ng, m·ªôt h√†nh ƒë·ªông  "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:".catch"}]},{type:"text",value:"  ƒë∆∞·ª£c g·ªçi."}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"js"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-js"]},children:[{type:"element",tagName:"code",properties:{className:["language-js"]},children:[{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"duthahoBuysCake"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'b√°nh sinh nh·∫≠t'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"then"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"qu·∫©y nh∆∞ d·ª± ƒë·ªãnh"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"catch"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"k·∫ø ho·∫°ch d·ª± ph√≤ng"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Trong JavaScript th√¨ ch√∫ng ta th∆∞·ªùng d√πng Promise ƒë·ªÉ "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"get"}]},{type:"text",value:" ho·∫∑c "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"update"}]},{type:"text",value:" d·ªØ li·ªáu. Khi promise ·ªü tr·∫°ng th√°i th√†nh c√¥ng "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"resolved"}]},{type:"text",value:", ch√∫ng ta x·ª≠ l√Ω d·ª± li·ªáu v·ªõi data tr·∫£ v·ªÅ. Ng∆∞·ª£c l·∫°i khi promise th·∫•t b·∫°i "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"rejected"}]},{type:"text",value:", ch√∫ng ta x·ª≠ l√Ω l·ªói:"}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"js"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-js"]},children:[{type:"element",tagName:"code",properties:{className:["language-js"]},children:[{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"getSomethingWithPromise"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"then"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"data"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"/* x·ª≠ l√Ω data */"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"catch"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"err"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"/* x·ª≠ l√Ω l·ªói */"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"ƒê·∫øn ƒë√¢y th√¨ b·∫°n ƒë√£ hi·ªÉu promise l√† g√¨, c√°c tr·∫°ng th√°i c·ªßa n√≥ v√† c√°ch n√≥ ho·∫°t ƒë·ªông. H√£y c√πng t√¨m hi·ªÉu c√°ch t·∫°o ra n√≥ n√†o."}]},{type:"text",value:"\n"},{type:"element",tagName:"h2",properties:{},children:[{type:"text",value:"T·∫°o m·ªôt promise nh∆∞ th·∫ø n√†o?"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"T·∫°o m·ªôt promise kh√° ƒë∆°n gi·∫£n, ch·ªâ c·∫ßn t·∫°o m·ªõi ƒë·ªëi t∆∞·ª£ng Promise "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"new Promise"}]},{type:"text",value:". V√† h√†m constructor c·ªßa Promise nh·∫≠n 2 tham s·ªë l√† 2 h√†m ‚Äî  "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"resolve"}]},{type:"text",value:"  v√†  "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"reject"}]},{type:"text",value:"."}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"js"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-js"]},children:[{type:"element",tagName:"code",properties:{className:["language-js"]},children:[{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"const"}]},{type:"text",value:" promise "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"new"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","class-name"]},children:[{type:"text",value:"Promise"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"resolve"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" reject"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"/* Do something here */"}]},{type:"text",value:"\n"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"N·∫øu h√†m  "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"resolve"}]},{type:"text",value:"  ƒë∆∞·ª£c g·ªçi, tr·∫°ng th√°i c·ªßa promise s·∫Ω l√† th√†nh c√¥ng v√† h√†nh ƒë·ªông "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:".then"}]},{type:"text",value:" ƒë∆∞·ª£c g·ªçi. Tham s·ªë b·∫°n truy·ªÅn v√†o h√†m  "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"resolve"}]},{type:"text",value:"  s·∫Ω ƒë∆∞·ª£c chuy·ªÉn ƒë·∫øn  "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"then"}]},{type:"text",value:":"}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"js"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-js"]},children:[{type:"element",tagName:"code",properties:{className:["language-js"]},children:[{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"const"}]},{type:"text",value:" promise "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"new"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","class-name"]},children:[{type:"text",value:"Promise"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"resolve"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" reject"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// Note: resolve ch·ªâ cho ph√©p truy·ªÅn ƒë√∫ng 1 param"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"return"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"resolve"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","number"]},children:[{type:"text",value:"27"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n\n"},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// Tham s·ªë  t·ª´ resolve s·∫Ω ƒë∆∞·ª£c chuy·ªÉn ƒë·∫øn then."}]},{type:"text",value:"\npromise"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"then"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"number"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" console"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"log"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"number"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// 27"}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Ng∆∞·ª£c l·∫°i n·∫øu h√†m  "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"reject"}]},{type:"text",value:"  ƒë∆∞·ª£c g·ªçi, tr·∫°ng th√°i c·ªßa promise s·∫Ω l√† th·∫•t b·∫°i v√† h√†nh ƒë·ªông  "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"catch"}]},{type:"text",value:" ƒë∆∞·ª£c g·ªçi. T∆∞∆°ng t·ª± nh∆∞ "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"resolved"}]},{type:"text",value:" tham s·ªë ƒë∆∞·ª£c truy·ªÅn v√†o "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"reject"}]},{type:"text",value:" s·∫Ω ƒë∆∞·ª£c chuy·ªÉn ƒë·∫øn "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"catch"}]},{type:"text",value:"."}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"js"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-js"]},children:[{type:"element",tagName:"code",properties:{className:["language-js"]},children:[{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"const"}]},{type:"text",value:" promise "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"new"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","class-name"]},children:[{type:"text",value:"Promise"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"resolve"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" reject"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// Note: reject ch·ªâ cho ph√©p truy·ªÅn ƒë√∫ng 1 param"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"return"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"reject"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'üí©üí©üí©'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n\npromise"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"catch"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"err"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" console"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"log"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"err"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// üí©üí©üí©"}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"B·∫Øt ƒë·∫ßu code th√¥i n√†o, ƒë·∫ßu ti√™n t·∫°o m·ªôt promise cho "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"duthahoBuysCake"}]},{type:"text",value:" ·ªü tr√™n:"}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"js"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-js"]},children:[{type:"element",tagName:"code",properties:{className:["language-js"]},children:[{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"const"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","function-variable","function"]},children:[{type:"text",value:"duthahoBuysCake"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"cakeType"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"return"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"new"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","class-name"]},children:[{type:"text",value:"Promise"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"resolve"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" reject"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// Do something here"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Ti·∫øp theo, l√™n k·∫ø ho·∫°ch cho 1 tu·∫ßn ƒë·ªÉ th·ª±c hi·ªán l·ªùi h·ª©a. Ch√∫ng ta s·∫Ω d√πng h√†m "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"setTimeout"}]},{type:"text",value:" ƒë·ªÉ gi·∫£ s·ª≠ cho vi·ªác ch·ªù ƒë·ª£i v√† l√™n k·∫ø ho·∫°ch:"}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"js"},children:[{type:"text",
value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-js"]},children:[{type:"element",tagName:"code",properties:{className:["language-js"]},children:[{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"const"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","function-variable","function"]},children:[{type:"text",value:"duthahoBuysCake"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"cakeType"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"return"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"new"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","class-name"]},children:[{type:"text",value:"Promise"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"resolve"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" reject"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"setTimeout"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n      "},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// mua hay kh√¥ng mua n√≥i 1 l·ªùi"}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","number"]},children:[{type:"text",value:"1000"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"element",tagName:"strong",properties:{},children:[{type:"text",value:"Note"}]},{type:"text",value:": ·ªü ƒë√¢y "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"setTimeout"}]},{type:"text",value:" cho 1000ms (1 gi√¢y) th√¥i ch·ªõ ch·ªù 1 tu·∫ßn th√¨ ng∆∞·ªùi y√™u n√≥ ki·∫øm th√®n kh√°c cmnr :cry:"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"N·∫øu sau 1 tu·∫ßn b·∫°n c√≥ ƒë·ªß ti·ªÅn ƒë·ªÉ mua b√°nh, promise s·∫Ω g·ªçi "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"resolved"}]},{type:"text",value:" v√† tr·∫£ d·ªØ li·ªáu "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"b√°nh sinh nh·∫≠t"}]},{type:"text",value:" v·ªÅ cho  "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"then"}]},{type:"text",value:"."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Ng∆∞·ª£c l·∫°i, b·∫°n kh√¥ng ƒë·ªß ti·ªÅn ƒë·ªÉ mua b√°nh, promise s·∫Ω g·ªçi "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"reject"}]},{type:"text",value:" v√† tr·∫£ d·ªØ li·ªáu "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"kh√¥ng ƒë·ªß ti·ªÅn"}]},{type:"text",value:" v·ªÅ cho  "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"catch"}]},{type:"text",value:"."}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"js"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-js"]},children:[{type:"element",tagName:"code",properties:{className:["language-js"]},children:[{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"let"}]},{type:"text",value:" money "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","number"]},children:[{type:"text",value:"1000"}]},{type:"text",value:"\n"},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"const"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","function-variable","function"]},children:[{type:"text",value:"duthahoBuysCake"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"cakeType"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"return"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"new"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","class-name"]},children:[{type:"text",value:"Promise"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"resolve"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" reject"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"setTimeout"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n      "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"if"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"money "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:">"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","number"]},children:[{type:"text",value:"1000"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n        "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"resolve"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"cakeType"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n      "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"else"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n        "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"reject"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'kh√¥ng ƒë·ªß ti·ªÅn üò¢'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n      "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","number"]},children:[{type:"text",value:"1000"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"N·∫øu b·∫°n th·ª≠  "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"console.log"}]},{type:"text",value:"  v·ªõi promise d∆∞·ªõi ƒë√¢y, k·∫øt qu·∫£ c·ªßa n√≥ l√† tr·∫°ng th√°i "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"pending"}]},{type:"text",value:"."}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"js"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-js"]},children:[{type:"element",tagName:"code",properties:{className:["language-js"]},children:[{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"const"}]},{type:"text",value:" promise "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"duthahoBuysCake"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'b√°nh sinh nh·∫≠t'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\nconsole"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"log"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"promise"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"element",tagName:"img",properties:{src:"https://i.imgur.com/gVh4UlD.png",alt:"The promise is pending."},children:[]}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Gi·ªù b·∫°n h√£y th·ª≠ s·ª≠ d·ª•ng "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"then"}]},{type:"text",value:" v√† "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"cactch"}]},{type:"text",value:" v√†o promise tr√™n, b·∫°n s·∫Ω th·∫•y k·∫øt qu·∫£ l√† "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"b√°nh sinh nh·∫≠t"}]},{type:"text",value:" ho·∫∑c "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"kh√¥ng ƒë·ªß ti·ªÅn"}]},{type:"text",value:" ph·ª• thu·ªôc v√†o s·ªë ti·ªÅn b·∫°n c√≥."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Tr∆∞·ªùng h·ª£p "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"then"}]},{type:"text",value:":"}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"js"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-js"]},children:[{type:"element",tagName:"code",properties:{className:["language-js"]},children:[{type:"text",value:"money "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","number"]},children:[{type:"text",value:"1001"}]},{type:"text",value:"\n"},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"const"}]},{type:"text",value:" promiseSuccess "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"duthahoBuysCake"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'b√°nh sinh nh·∫≠t'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"then"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"cake"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" console"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"log"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"cake"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"catch"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"nocake"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" console"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"log"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"nocake"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"element",tagName:"img",properties:{src:"https://i.imgur.com/2V9ZWlF.png",alt:"Then case."},children:[]}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Tr∆∞·ªùng h·ª£p "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"catch"}]},{type:"text",value:":"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"element",tagName:"img",properties:{src:"https://i.imgur.com/6zy25IL.png",alt:"Catch case."},children:[]}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"B√¢y gi·ªù th√¨ b·∫°n c√≥ th·∫•y kh√¥ng kh√≥ ƒë·ªÉ t·∫°o m·ªôt promise ph·∫£i kh√¥ng? üòâ."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Nhi·ªám v·ª• ti·∫øp theo c·ªßa ch√∫ng ta l√† tr·∫£ l·ªùi c√¢u h·ªèi ‚Äî T·∫°i sao promise ƒë∆∞·ª£c d√πng ƒë·ªÉ thay th·∫ø "},{type:"element",tagName:"strong",properties:{},children:[{type:"text",value:"callback"}]},{type:"text",value:" trong l·∫≠p tr√¨nh b·∫•t ƒë·ªìng b·ªô ("},{type:"element",tagName:"em",properties:{},children:[{type:"text",value:"asynchronous JavaScript"}]},{type:"text",value:")?"}]},{type:"text",value:"\n"},{type:"element",tagName:"h2",properties:{},children:[{type:"text",value:"Promises vs. Callbacks"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Coder ƒëa s·ªë l√† nh·ªØng th√®n l√†m bi·∫øng, t√¥i c≈©ng th·∫ø v√† ch·∫Øc b·∫°n c≈©ng v·∫≠y. C√°i g√¨ nhanh, g·ªçn, nh·∫π th√¨ ch·ªçn v·∫≠y th√¥i :). Sau ƒë√¢y l√† 3 l√Ω do m√† promise ƒë∆∞·ª£c d√πng nhi·ªÅu h∆°n l√† callback:"}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"√çt code l·ªìng (nested) h∆°n"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"ƒê·ªçc code d·ªÖ hi·ªÉu h∆°n"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"X·ª≠ l√Ω l·ªói d·ªÖ d√†ng h∆°n v·ªõi "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"catch"}]}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"N√≥i nhi·ªÅu l√†m g√¨, h√£y ƒëi v√†o v√≠ d·ª• ƒë·ªÉ so s√°nh."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"B√†i to√°n ·ªü ƒë√¢y l√† b·∫°n ƒëang l√† ch·ªß 1 c·ª≠a h√†ng b√°n ƒë·ªì online, ngh·ªÅ ƒëang hot :cry:. Khi ai ƒë√≥ ƒë·∫∑t mua h√†ng, b·∫°n s·∫Ω l∆∞u l·∫°i th√¥ng tin c·ªßa h·ªç v√†o database. Cu·ªëi c√πng g·ª≠i email cho h·ªç v·ªÅ ƒë∆°n h√†ng thanh to√°n:"}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"Kh√°ch h√†ng ƒë·∫∑t mua h√†ng"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"L∆∞u l·∫°i th√¥ng tin kh√°ch h√†ng"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"G·ª≠i mail"}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Ch√∫ng ta l·∫ßn l∆∞·ª£t ƒëi qua t·ª´ng b∆∞·ªõc. ƒê·∫ßu ti√™n, khi kh√°ch ƒë·∫∑t mua h√†ng, frontend s·∫Ω g·ª≠i 1 request mua h√†ng ƒë·∫øn backend k√®m theo th√¥ng tin c·ªßa kh√°ch h√†ng, th√¥ng th∆∞·ªùng ·ªü ƒë√¢y l√† post request."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"V√≠ d·ª• d∆∞·ªõi ƒë√¢y ƒë∆∞·ª£c vi·∫øt b·∫±ng Express - NodeJS framework. N·∫øu b·∫°n ch∆∞a bi·∫øt c≈©ng kh√¥ng sao, ch·ªâ c·∫ßn quan t√¢m n√≥ ƒë∆∞·ª£c vi·∫øt b·∫±ng JavaScript :smiley::"}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"js"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-js"]},children:[{type:"element",tagName:"code",properties:{className:["language-js"]},children:[{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// API d√πng ƒë·ªÉ frontend g·ª≠i request mua h√†ng ƒë·∫øn backend."}]},{type:"text",value:"\napp"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"post"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'/buy-thing'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"req"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" res"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"const"}]},{type:"text",value:" customer "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" req"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"body "},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// l·∫•y th√¥ng tin kh√°ch h√†ng"}]},{type:"text",value:"\n"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"·ªû ƒë√¢y b·∫°n mu·ªën l·∫•y d·ªØ li·ªáu kh√°ch h√†ng, n·∫øu th√†nh c√¥ng, b·∫°n l∆∞u l·∫°i th√¥ng tin v√†o database, v√† s·∫Ω vƒÉng ra exception n·∫øu c√≥ l·ªói."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"V√≠ d·ª• v·ªÅ s·ª≠ d·ª•ng callback:"}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"js"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-js"]},children:[{type:"element",tagName:"code",properties:{className:["language-js"]},children:[{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// Callback based code"}]},{type:"text",value:"\napp"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"post"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'/buy-thing'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"req"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" res"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"const"}]},{type:"text",value:" customer "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" req"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"body\n\n  "},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// l·∫•y d·ªØ li·ªáu kh√°ch h√†ng"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"getCustumerInfo"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"customer"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"err"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" info"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"if"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"err"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"throw"}]},{type:"text",value:" err\n\n    "},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// l∆∞u th√¥ng tin xu·ªëng database"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"V√≠ d·ª• v·ªÅ s·ª≠ d·ª•ng promise:"}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"js"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-js"]},children:[{type:"element",tagName:"code",properties:{className:["language-js"]},children:[{type:"element",
tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// Promised based code"}]},{type:"text",value:"\napp"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"post"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'/buy-thing'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"req"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" res"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"const"}]},{type:"text",value:" customer "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" req"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"body\n\n  "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"getCustomerInfo"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"customer"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"then"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"info"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"catch"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"err"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"throw"}]},{type:"text",value:" err"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"B∆∞·ªõc th·ª© 2 l√† l∆∞u d·ªØ li·ªáu kh√°ch h√†ng xu·ªëng database, sau khi l∆∞u th√†nh c√¥ng, b·∫°n s·∫Ω g·ª≠i email cho kh√°ch h√†ng, ng∆∞·ª£c l·∫°i, vƒÉng ra exception n·∫øu c√≥ l·ªói."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"V√≠ d·ª• v·ªÅ s·ª≠ d·ª•ng callback:"}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"js"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-js"]},children:[{type:"element",tagName:"code",properties:{className:["language-js"]},children:[{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// Callback based code"}]},{type:"text",value:"\napp"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"post"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'/buy-thing'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"req"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" res"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"const"}]},{type:"text",value:" customer "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" req"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"body\n\n  "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"getCustomerInfo"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"customer"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"err"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" info"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"if"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"err"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"throw"}]},{type:"text",value:" err\n\n    "},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// l∆∞u th√¥ng tin xu·ªëng database"}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"addToDatabase"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"info"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"err"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" document"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n      "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"if"}]},{type:"text",value:" "},{type:"element",tagName:"<span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"(err"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"throw"}]},{type:"text",value:" err\n\n      "},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// g·ª≠i email"}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"V√≠ d·ª• v·ªÅ s·ª≠ d·ª•ng promise:"}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"js"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-js"]},children:[{type:"element",tagName:"code",properties:{className:["language-js"]},children:[{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// Promised based code"}]},{type:"text",value:"\napp"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"post"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'/buy-thing'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"req"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" res"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"const"}]},{type:"text",value:" customer "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" req"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"body\n\n  "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"getCustomerInfo"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"customer"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"then"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"info"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"addToDatabase"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"info"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"then"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"/* g·ª≠i email */"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"catch"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"err"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"throw"}]},{type:"text",value:" err"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"B∆∞·ªõc cu·ªëi c√πng, khi b·∫°n g·ª≠i email cho kh√°ch h√†ng th√†nh c√¥ng, b·∫°n s·∫Ω hi·ªÉn th·ªã th√¥ng b√°o cho ng∆∞·ªùi d√πng, ng∆∞·ª£c l·∫°i, vƒÉng ra exception n·∫øu g·ª≠i email th·∫•t b·∫°i:"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"V√≠ d·ª• v·ªÅ s·ª≠ d·ª•ng callback:"}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"js"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-js"]},children:[{type:"element",tagName:"code",properties:{className:["language-js"]},children:[{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// Callback based code"}]},{type:"text",value:"\napp"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"post"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'/buy-thing'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"req"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" res"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"const"}]},{type:"text",value:" customer "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" req"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"body\n\n  "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"getCustomerInfo"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"customer"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"err"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" info"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"if"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"err"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"throw"}]},{type:"text",value:" err\n\n    "},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// l∆∞u th√¥ng tin xu·ªëng database"}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"addToDatabase"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"info"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"err"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" document"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n      "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"if"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"err"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"throw"}]},{type:"text",value:" err\n\n      "},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// g·ª≠i email"}]},{type:"text",value:"\n      "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"sendEmail"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"customer"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"err"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" result"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n        "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"if"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"err"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"throw"}]},{type:"text",value:" err\n\n        "},{type:"element",tagName:"span",properties:{className:["token","comment"]},children:[{type:"text",value:"// th√¥ng b√°o th√†nh c√¥ng."}]},{type:"text",value:"\n        res"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"send"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'success!'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n      "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"V√≠ d·ª• v·ªÅ s·ª≠ d·ª•ng promise:"}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"js"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-js"]},children:[{type:"element",tagName:"code",properties:{className:["language-js"]},children:[{type:"text",value:"app"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"post"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'/buy-thing'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"req"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" res"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"const"}]},{type:"text",value:" customer "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" req"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"text",value:"body\n\n  "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"getCustomerInfo"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"customer"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"then"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"info"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"addToDatabase"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"info"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"then"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"_"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"sendEmail"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"text",value:"customer"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:" "},{type:"element",tagName:"span",
properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"then"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"result"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" res"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"send"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:"'success!'"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"catch"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","parameter"]},children:[{type:"text",value:"err"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"throw"}]},{type:"text",value:" err"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Ch·∫Øc h·∫≥n qua v√≠ d·ª• tr√™n th√¨ ch√∫ng ta ƒë√£ h√¨nh dung ƒë∆∞·ª£c nh·ªØng ∆∞u ƒëi·ªÉm c·ªßa vi·ªác d√πng promise so v·ªõi callback? Code ng·∫Øn g·ªçn, flow d·ªÖ hi·ªÉu, x·ª≠ l√Ω l·ªói d·ªÖ d√†ng h∆°n, v√† quan tr·ªçng l√† tr√°nh ph·∫£i "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"callback hell"}]},{type:"text",value:" khi d√πng callback üòÇ."}]},{type:"text",value:"\n"},{type:"element",tagName:"h2",properties:{},children:[{type:"text",value:"X·ª≠ l√Ω nhi·ªÅu l·ªùi h·ª©a c√πng l√∫c?"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"M·ªôt ƒëi·ªÉm c·ªông n·ªØa c·ªßa promise l√† ch√∫ng ta c√≥ th·ªÉ th·ª±c hi·ªán nhi·ªÅu promise c√πng 1 l√∫c m√† c√°c ho·∫°t ƒë·ªông c·ªßa ch√∫ng ko li√™n quan g√¨ v·ªõi nhau, nh∆∞ng k·∫øt qu·∫£ c·ªßa nh·ªØng l·ªùi h·ª©a ƒë√≥ c·∫ßn thi·∫øt cho 1 ho·∫°t ƒë·ªông sau c√πng."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"ƒê·ªÉ l√†m ƒë∆∞·ª£c ƒëi·ªÅu ƒë√≥, ch√∫ng ta s·ª≠ d·ª•ng h√†m "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Promise.all"}]},{type:"text",value:", tham s·ªë truy·ªÅn v√†o l√† 1 m·∫£ng c√°c l·ªùi h·ª©a (promise) c·∫ßn th·ª±c hi·ªán. Khi ƒë√≥, tham s·ªë c·ªßa "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"then"}]},{type:"text",value:" ch√≠nh l√† 1 m·∫£ng ch·ª©a c√°c k·∫øt qu·∫£ t·ª´ c√°c promise."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"H√£y t∆∞·ªüng t∆∞·ª£ng b·∫°n mu·ªën ƒÉn b·ªØa t·ªëi sau khi n·∫•u ƒë·ªß 3 m√≥n: c∆°m, canh c√°. C√°c ho·∫°t ƒë·ªông n√†y th·ª±c hi·ªán c√πng l√∫c v√† kh√¥ng ph·ª• thu·ªôc l·∫´n nhau, th·∫ø nh∆∞ng b·∫°n ph·∫£i ch·ªù cho t·∫•t c·∫£ n·∫•u xong th√¨ b·∫°n m·ªõi ƒÉn t·ªëi ƒë∆∞·ª£c:"}]},{type:"text",value:"\n"},{type:"element",tagName:"div",properties:{className:["gatsby-highlight"],dataLanguage:"js"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"pre",properties:{className:["language-js"]},children:[{type:"element",tagName:"code",properties:{className:["language-js"]},children:[{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"const"}]},{type:"text",value:" nauComPromise "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"nauCom"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n"},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"const"}]},{type:"text",value:" nauCanhPromise "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"nauCanh"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n"},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"const"}]},{type:"text",value:" khoCaPromise "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"khoCa"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n\n"},{type:"element",tagName:"span",properties:{className:["token","keyword"]},children:[{type:"text",value:"const"}]},{type:"text",value:" anToi "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"="}]},{type:"text",value:" Promise"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"all"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"["}]},{type:"text",value:"\n  nauComPromise"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:"\n  nauCanhPromise"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:"\n  khoCaPromise\n"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"]"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"then"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"["}]},{type:"text",value:"com"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" canh"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:","}]},{type:"text",value:" ca"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"]"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","operator"]},children:[{type:"text",value:"=>"}]},{type:"text",value:" "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"{"}]},{type:"text",value:"\n    console"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"log"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","template-string"]},children:[{type:"element",tagName:"span",properties:{className:["token","template-punctuation","string"]},children:[{type:"text",value:"`"}]},{type:"element",tagName:"span",properties:{className:["token","interpolation"]},children:[{type:"element",tagName:"span",properties:{className:["token","interpolation-punctuation","punctuation"]},children:[{type:"text",value:"${"}]},{type:"text",value:"com"},{type:"element",tagName:"span",properties:{className:["token","interpolation-punctuation","punctuation"]},children:[{type:"text",value:"}"}]}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:" tuy·ªát v·ªùi! üçî"}]},{type:"element",tagName:"span",properties:{className:["token","template-punctuation","string"]},children:[{type:"text",value:"`"}]}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n    console"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"log"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","template-string"]},children:[{type:"element",tagName:"span",properties:{className:["token","template-punctuation","string"]},children:[{type:"text",value:"`"}]},{type:"element",tagName:"span",properties:{className:["token","interpolation"]},children:[{type:"element",tagName:"span",properties:{className:["token","interpolation-punctuation","punctuation"]},children:[{type:"text",value:"${"}]},{type:"text",value:"canh"},{type:"element",tagName:"span",properties:{className:["token","interpolation-punctuation","punctuation"]},children:[{type:"text",value:"}"}]}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:" ngon qu√°! üçü"}]},{type:"element",tagName:"span",properties:{className:["token","template-punctuation","string"]},children:[{type:"text",value:"`"}]}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n    console"},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"."}]},{type:"element",tagName:"span",properties:{className:["token","function"]},children:[{type:"text",value:"log"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"("}]},{type:"element",tagName:"span",properties:{className:["token","template-string"]},children:[{type:"element",tagName:"span",properties:{className:["token","template-punctuation","string"]},children:[{type:"text",value:"`"}]},{type:"element",tagName:"span",properties:{className:["token","interpolation"]},children:[{type:"element",tagName:"span",properties:{className:["token","interpolation-punctuation","punctuation"]},children:[{type:"text",value:"${"}]},{type:"text",value:"ca"},{type:"element",tagName:"span",properties:{className:["token","interpolation-punctuation","punctuation"]},children:[{type:"text",value:"}"}]}]},{type:"element",tagName:"span",properties:{className:["token","string"]},children:[{type:"text",value:" b·ªã ch√°y ü§¢ "}]},{type:"element",tagName:"span",properties:{className:["token","template-punctuation","string"]},children:[{type:"text",value:"`"}]}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]},{type:"text",value:"\n  "},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:"}"}]},{type:"element",tagName:"span",properties:{className:["token","punctuation"]},children:[{type:"text",value:")"}]}]}]},{type:"text",value:"\n      "}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"(Note: ·ªü ƒë√¢y c√≤n 1 h√†m "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"Promise.race"}]},{type:"text",value:", nh∆∞ng hi·∫øm khi ƒë∆∞·ª£c s·ª≠ d·ª•ng, b·∫°n c√≥ th·ªÉ ƒë·ªçc th√™m t·∫°i "},{type:"element",tagName:"a",properties:{href:"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Promise/race"},children:[{type:"text",value:"ƒë√¢y"}]},{type:"text",value:"."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Cu·ªëi c√πng, v√¨ "},{type:"element",tagName:"strong",properties:{},children:[{type:"text",value:"promise"}]},{type:"text",value:" l√† t√≠nh nƒÉng m·ªõi c·ªßa ES6, n√™n kh√¥ng ph·∫£i t·∫•t c·∫£ browser ƒë·ªÅu h·ªó tr·ª£?"}]},{type:"text",value:"\n"},{type:"element",tagName:"h2",properties:{},children:[{type:"text",value:"Browser h·ªó tr·ª£ Promise"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"Kh√¥ng sao, tin t·ªët l√† "},{type:"element",tagName:"a",properties:{href:"https://kangax.github.io/compat-table/es6/"},children:[{type:"text",value:"promise ƒë√£ ƒë∆∞·ª£c h·ªó tr·ª£ h·∫ßu h·∫øt tr√™n t·∫•t c·∫£ tr√¨nh duy·ªát"}]},{type:"text",value:"!"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"N·∫øu b·∫°n c√≤n x√†i ƒë·ªì c·ªß chu·ªëi IE11 ho·∫∑c nh·ªè h∆°n, "},{type:"element",tagName:"a",properties:{href:"https://www.npmjs.com/package/promise-polyfill"},children:[{type:"text",value:"Promise Polyfill"}]},{type:"text",value:" l√† m·ªôt s·ª± l·ª±a ch·ªçn thay th·∫ø!"}]},{type:"text",value:"\n"},{type:"element",tagName:"h2",properties:{},children:[{type:"text",value:"T√∫m l·∫°i"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"B·∫°n ƒë√£ ƒë∆∞·ª£c h·ªçc t·∫•t c·∫£ nh·ªØng g√¨ v·ªÅ promise trong b√†i vi·∫øt n√†y, n√≥ gi√∫p ch√∫ng ta vi·∫øt code 1 c√°ch ng·∫Øn g·ªçn v√† d·ªÖ hi·ªÉu h∆°n trong l·∫≠p tr√¨nh b·∫•t ƒë·ªìng b·ªô v√† kh·ªèi ƒëau ƒë·∫ßu v·ªõi "},{type:"element",tagName:"code",properties:{className:["language-text"]},children:[{type:"text",value:"callback hell"}]},{type:"text",value:"."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"M·∫∑c d√π trong b√†i vi·∫øt ch√∫ng ta n√™n s·ª≠ d·ª•ng "},{type:"element",tagName:"strong",properties:{},children:[{type:"text",value:"promise"}]},{type:"text",value:" ƒë·ªÉ thay th·∫ø cho "},{type:"element",tagName:"strong",properties:{},children:[{type:"text",value:"callback"}]},{type:"text",value:" nh∆∞ng trong 1 s·ªë tr∆∞·ªùng h·ª£p c·ª• th·ªÉ, callback n·∫Øm gi·ªØ 1 vai tr√≤ quan tr·ªçng. V√¨ th·∫ø m√¨nh s·∫Ω vi·∫øt 1 b√†i v·ªÅ callback trong th·ªùi gian t·ªõi. Mong m·ªçi ng∆∞·ªùi ƒë√≥n ƒë·ªçc üòâ."}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"N·∫øu b·∫°n c√≥ c√¢u h·ªèi n√†o ho·∫∑c √Ω ki·∫øn ƒë√≥ng gh√≥p, comment b√™n d∆∞·ªõi! ƒê·ª´ng qu√™n sharing d√πm m√¨nh nh√© :+1:"}]}],data:{quirksMode:!1}},fields:{slug:"/js-promise/",prefix:"2019-05-22"},frontmatter:{title:"T√¨m hi·ªÉu v·ªÅ  promise trong JavaScript",subTitle:"Promise in JavaScript",cover:{childImageSharp:{resize:{src:"/blog/static/cover-afb6aae22952b91224f795450b312c41-ada8c.jpg"}}}}},author:{id:"/media/duthaho/New Volume/learn/github/duthaho-blog/content/parts/author.md absPath of file >>> MarkdownRemark",html:"<p>M√¨nh l√† m·ªôt th·∫±ng ƒë·∫ßu to, tr√°n h√≥i, chu·∫©n loser vozer, cao ch·ªâ 1m55 nh∆∞ng n·∫∑ng ƒë·∫øn g·∫ßn 60kg :laughing:. C√≥ t·∫≠p Gym n√™n b·ª•ng 6 m√∫i v√† nhi·ªÅu g√°i khen ƒë·∫πp zai. M·ª•c ti√™u c·ªßa blog n√†y ch·ªß y·∫øu l√† ƒë·ªÉ d√†nh ƒë·ªçc l·∫°i l√∫c c·∫ßn, c≈©ng ƒë·ªÉ cho m·ªçi ng∆∞·ªùi v√†o ƒë·ªçc gi·∫øt th·ªùi gian cho vui :kissing:.</p>"},footnote:{id:"/media/duthaho/New Volume/learn/github/duthaho-blog/content/parts/footnote.md absPath of file >>> MarkdownRemark",html:'<ul>\n<li><a href="https://duthaho.github.io/cv" target="_blank">my resume</a> - <a href="https://www.buymeacoffee.com/lp1cMOE" target="_blank">buy a coffee</a> - <a href="http://eepurl.com/gsE-Kr" target="_blank">email register</a></li>\n</ul>'},site:{siteMetadata:{facebook:{appId:"1476613389154628"}}}},pathContext:{slug:"/js-promise/"}}}});
//# sourceMappingURL=path---js-promise-016acc40b844845dee5a.js.map